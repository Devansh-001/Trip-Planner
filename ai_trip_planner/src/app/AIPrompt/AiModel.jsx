const { GoogleGenerativeAI } = require("@google/generative-ai");




const apiKey = "AIzaSyApNpbEagALP41oKLGJYmOmxIwLCPKuco0"
// const apiKey = process.env.GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};

export const chatSession = model.startChat({
    generationConfig,
    history: [
        {
            role: "user",
            parts: [
                { text: "Create a detailed 3-day travel itinerary for a Couple (2 people) visiting Las Vegas on a Budget-friendly trip. The itinerary should include affordable options and lower-cost experiences. Provide the result in JSON format with the following details:\n\nHotel Recommendations:\n\nHotel Name\nHotel Address\nPrice per Night\nHotel Image URL\nGeo Coordinates (Latitude, Longitude)\nHotel Rating (out of 5)\nHotel Description\n3-Day Itinerary:\n\nFor each day (Day 1, Day 2, Day 3), list places with the following details:\nPlace Name\nPlace Description\nPlace Image URL\nGeo Coordinates (Latitude, Longitude)\nTicket Price (if applicable)\nPlace Rating (out of 5)\nBest Time to Visit\nTime to Travel from Hotel to Place\nEnsure that all options and activities fit within a Budget-friendly framework, focusing on affordable attractions, experiences, and accommodations.\n" },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "```json\n{\n  \"hotel_recommendations\": [\n    {\n      \"hotel_name\": \"Circus Circus Hotel, Casino & Theme Park\",\n      \"hotel_address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price_per_night\": 45,\n      \"hotel_image_url\": \"https://www.circuscircus.com/wp-content/uploads/2018/10/CC_Exterior_Main_Tower.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.1262,\n        \"longitude\": -115.1658\n      },\n      \"hotel_rating\": 3.0,\n      \"hotel_description\": \"A classic Vegas hotel offering budget-friendly rooms on the Strip. It's a bit dated but affordable, with a circus theme and the Adventuredome indoor theme park.\"\n    },\n    {\n      \"hotel_name\": \"Excalibur Hotel & Casino\",\n      \"hotel_address\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price_per_night\": 55,\n      \"hotel_image_url\": \"https://www.excalibur.com/content/dam/excalibur/hotel/exterior/excalibur-hotel-exterior-1440x600.tif\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.0985,\n        \"longitude\": -115.1743\n      },\n      \"hotel_rating\": 3.5,\n      \"hotel_description\": \"A budget-friendly option with a medieval theme at the south end of the Strip. Offers easy access to other hotels via a free tram.\"\n    }\n  ],\n  \"3_day_itinerary\": {\n    \"Day 1\": [\n      {\n        \"place_name\": \"Welcome to Las Vegas Sign\",\n        \"place_description\": \"Take a photo at the iconic \\\"Welcome to Las Vegas\\\" sign.\",\n        \"place_image_url\": \"https://www.lasvegasnevada.gov/Portals/0/Departments/Community%20Services/Special%20Events/Welcome%20to%20Las%20Vegas%20Sign.jpg\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.0853,\n          \"longitude\": -115.1732\n        },\n        \"ticket_price\": 0,\n        \"place_rating\": 4.5,\n        \"best_time_to_visit\": \"Early morning (8:00 AM - 9:00 AM) to avoid crowds.\",\n        \"time_to_travel_from_hotel\": \"30 mins (Deuce bus from Circus Circus) / 15 mins (walk from Excalibur)\"\n      },\n      {\n        \"place_name\": \"Luxor Hotel & Casino\",\n        \"place_description\": \"Explore the unique pyramid-shaped Luxor hotel.\",\n        \"place_image_url\": \"https://assets.mgmresorts.com/content/dam/MGM/luxor/property-details/exterior/luxor-exterior-property-details-1440x600.tif\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.0956,\n          \"longitude\": -115.1759\n        },\n        \"ticket_price\": 0,\n        \"place_rating\": 4.0,\n        \"best_time_to_visit\": \"Mid-morning (10:00 AM - 11:00 AM).\",\n        \"time_to_travel_from_hotel\": \"45 mins (Deuce bus from Circus Circus) / Right next to (Excalibur)\"\n      },\n      {\n        \"place_name\": \"Mandalay Bay\",\n        \"place_description\": \"Walk through the Mandalay Bay hotel and casino.\",\n        \"place_image_url\": \"https://assets.mgmresorts.com/content/dam/MGM/mandalay-bay/property-details/exterior/mandalay-bay-exterior-property-details-1440x600.tif\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.0911,\n          \"longitude\": -115.1752\n        },\n        \"ticket_price\": 0,\n        \"place_rating\": 4.2,\n        \"best_time_to_visit\": \"Late Morning (11:00 AM - 12:00 PM).\",\n        \"time_to_travel_from_hotel\": \"1 hour (Deuce bus from Circus Circus) / Tram from (Excalibur)\"\n      },\n      {\n        \"place_name\": \"Bellagio Conservatory & Botanical Garden\",\n        \"place_description\": \"Visit the beautiful and free Bellagio Conservatory.\",\n        \"place_image_url\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/conservatory-botanical-garden/bellagio-conservatory-floral-display-1440x600.tif\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1126,\n          \"longitude\": -115.1761\n        },\n        \"ticket_price\": 0,\n        \"place_rating\": 4.8,\n        \"best_time_to_visit\": \"Afternoon (2:00 PM - 3:00 PM).\",\n        \"time_to_travel_from_hotel\": \"40 mins (Deuce Bus from Excalibur or Circus Circus)\"\n      },\n      {\n        \"place_name\": \"Bellagio Fountains\",\n        \"place_description\": \"Watch the spectacular Bellagio Fountain show.\",\n        \"place_image_url\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/fountains-of-bellagio/bellagio-fountains-header-desktop.tif\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1125,\n          \"longitude\": -115.1741\n        },\n        \"ticket_price\": 0,\n        \"place_rating\": 5.0,\n        \"best_time_to_visit\": \"Evening (7:00 PM - 8:00 PM).\",\n        \"time_to_travel_from_hotel\": \"40 mins (Deuce Bus from Excalibur or Circus Circus)\"\n      }\n    ],\n    \"Day 2\": [\n      {\n        \"place_name\": \"Fremont Street Experience\",\n        \"place_description\": \"Explore Fremont Street's light show and street performers in Old Las Vegas.\",\n        \"place_image_url\": \"https://vegasexperience.com/wp-content/uploads/2024/05/vegas-experience-photo-960x600-1.jpg\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1701,\n          \"longitude\": -115.1421\n        },\n        \"ticket_price\": 0,\n        \"place_rating\": 4.0,\n        \"best_time_to_visit\": \"Late afternoon/early evening (5:00 PM - 7:00 PM) for the light show.\",\n        \"time_to_travel_from_hotel\": \"1 hour 30 minutes (Deuce bus from Excalibur/Circus Circus) Use the WAX/Duce for faster travel\"\n      },\n       {\n        \"place_name\": \"The LINQ Promenade\",\n        \"place_description\": \"Pedestrian area with shops, restaurants, and the High Roller.\",\n        \"place_image_url\": \"https://www.caesars.com/content/dam/linq/things-to-do/linq-promenade/general/the-linq-promenade-general-1440x600.jpg\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1156,\n          \"longitude\": -115.1702\n        },\n        \"ticket_price\": 0,\n        \"place_rating\": 4.0,\n        \"best_time_to_visit\": \"Late afternoon\",\n        \"time_to_travel_from_hotel\": \"1 hour (WAX/Duce bus from Fremont Street)\"\n      },\n      {\n        \"place_name\": \"Fountains of Caesar's Palace\",\n        \"place_description\": \"A shorter, but still impressive, water show.\",\n        \"place_image_url\": \"https://www.caesars.com/content/dam/caesars/palace/things-to-do/fountains/general/fountains-of-caesars-palace-general-1440x600.jpg\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1172,\n          \"longitude\": -115.1752\n        },\n        \"ticket_price\": 0,\n        \"place_rating\": 4.0,\n        \"best_time_to_visit\": \"Evening\",\n        \"time_to_travel_from_hotel\": \"15 minute walk from the LINQ\"\n      }\n    ],\n    \"Day 3\": [\n      {\n        \"place_name\": \"The Venetian\",\n        \"place_description\": \"Stroll through the Grand Canal Shoppes and watch street performers.\",\n        \"place_image_url\": \"https://www.venetianlasvegas.com/content/dam/venetian/property-details/exterior/the-venetian-exterior-property-details-1440x600.tif\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1219,\n          \"longitude\": -115.1737\n        },\n        \"ticket_price\": 0,\n        \"place_rating\": 4.7,\n        \"best_time_to_visit\": \"Late morning (10:00 AM - 11:00 AM).\",\n        \"time_to_travel_from_hotel\": \"40 mins (Deuce Bus from Excalibur or Circus Circus)\"\n      },\n      {\n        \"place_name\": \"Palazzo\",\n        \"place_description\": \"Walk around the Palazzo, connected to the Venetian.\",\n        \"place_image_url\": \"https://www.palazzolasmegas.com/content/dam/palazzo/property-details/exterior/the-palazzo-exterior-property-details-1440x600.tif\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1234,\n          \"longitude\": -115.1741\n        },\n        \"ticket_price\": 0,\n        \"place_rating\": 4.5,\n        \"best_time_to_visit\": \"Late morning to early afternoon (11:00 AM - 12:00 PM).\",\n        \"time_to_travel_from_hotel\": \"40 mins (Deuce Bus from Excalibur or Circus Circus)\"\n      },\n      {\n        \"place_name\": \"Caesar's Palace\",\n        \"place_description\": \"Explore the Forum Shops and the architecture of Caesar's Palace.\",\n        \"place_image_url\": \"https://www.caesars.com/content/dam/caesars/palace/things-to-do/shopping/the-forum-shops/general/the-forum-shops-at-caesars-general-1440x600.jpg\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1162,\n          \"longitude\": -115.1757\n        },\n        \"ticket_price\": 0,\n        \"place_rating\": 4.6,\n        \"best_time_to_visit\": \"Afternoon (2:00 PM - 3:00 PM).\",\n        \"time_to_travel_from_hotel\": \"45 mins (Deuce Bus from Excalibur or Circus Circus)\"\n      }\n    ]\n  }\n}\n```" },
            ],
        },
    ],
});

